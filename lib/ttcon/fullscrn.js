dojo.provide("ttcon.fullscrn");dojo.require("dojo.window");
dojo.declare("ttcon.fullscrn",null,{constructor:function(a){this.VERSION="0.4.3";this.imgNode=dojo.create("img",{id:"fullscrn-bg"},dojo.body(),"first");this.fadeOnLoad&&dojo.style(this.imgNode,{opacity:0});this.setImage(a.image);dojo.connect(window,"onresize",this,"resize")},onImageChanged:function(){},onError:function(){},setImage:function(a){if(dojo.isString(a)){var d=dojo.fadeOut({node:this.imgNode});dojo.connect(d,"onEnd",this,function(){dojo.destroy(this.imgNode);this.imgNode=dojo.create("img",
{style:{opacity:0},id:"fullscrn-bg"},dojo.body(),"first");dojo.connect(this.imgNode,"onload",this,function(){this.resize();var b=dojo.fadeIn({node:this.imgNode});dojo.connect(b,"onEnd",this,function(){this.onImageChanged(this.imgNode)});b.play()});dojo.connect(this.imgNode,"onerror",this,function(b){this.onError(b,"The image '"+a+"' can not be found!")});this.imgNode.src=a});d.play()}else return false},resize:function(){var a=dojo.window.getBox(),d=a.h/a.w,b,c=dojo.position(this.imgNode);if(d>c.h/
c.w){d=a.h/c.h*c.w;b=a.h}else{d=a.w;b=a.w/c.w*c.h}dojo.style(this.imgNode,{height:b+"px",width:d+"px"});c=dojo.window.getBox(this.imgNode,true);dojo.style(this.imgNode,{left:c.l-(d-a.w)/2+"px",top:c.t-(b-a.h)/2+"px"})}});
